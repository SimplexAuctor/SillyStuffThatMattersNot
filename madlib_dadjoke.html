<html>
<head>
<style>
body
{
    background-color: #444444;
    color: #FFFFFF;
}

#joke
{
    background-color: #000000;
    display: inline-block;
    margin: 3px;
    padding: 15px;
}

a {
    color: BBBBBB;
}

</style>
<script>
function getQueryVariable(variable)
{
       var query = window.location.search.substring(1);
       var vars = query.split("&");
       for (var i=0;i<vars.length;i++) {
               var pair = vars[i].split("=");
               if(pair[0] == variable){return unescape(pair[1]);}
       }
       return(false);
}

function prefill()
{
    noun1input.value=getQueryVariable("noun1");
    noun2input.value=getQueryVariable("noun2");
    opinion1input.value=getQueryVariable("opinion1");
    opinion2input.value=getQueryVariable("opinion2");
    opinion3input.value=getQueryVariable("opinion3");
    
    UpdateFields();
}

function UpdateFields()
{
    document.getElementById("noun1a").textContent=noun1input.value;
    document.getElementById("noun1b").textContent=noun1input.value;
    document.getElementById("noun1c").textContent=noun1input.value;

    document.getElementById("noun2a").textContent=noun2input.value;
    document.getElementById("noun2b").textContent=noun2input.value;
    document.getElementById("noun2c").textContent=noun2input.value;

    document.getElementById("opinion1").textContent=opinion1input.value;
    document.getElementById("opinion2").textContent=opinion2input.value;
    document.getElementById("opinion3").textContent=opinion3input.value;
    
    var url = "https://simplexauctor.github.io/SillyStuffThatMattersNot/madlib_dadjoke.html?noun1=" + noun1input.value + "&noun2=" + noun2input.value + "&opinion1=" + opinion1input.value + "&opinion2=" + opinion2input.value + "&opinion3=" + opinion3input.value;
    var a = document.createElement('a');
    a.setAttribute('href', url);
    a.innerHTML = "Share";
    
    document.getElementById("shareurl").innerHTML = "Share".link(url);
}
</script>
</head>
<body onload="prefill();">

<div id=joke>
A <span id="noun1a"></span>, a <span id="noun2a"></span> and a piece of toast walk into a bar.<br/>
The <span id="noun1b"></span> says, "I refuse to sit with anyone who thinks <span id="opinion1"></span>!"<br/>
The <span id="noun2b"></span> says, "Yeah?! Well I refuse to sit with anyone who thinks <span id="opinion2"></span>!"<br/>
The piece of toast says "<span id="opinion3"></span>"<br/>
The <span id="noun1c"></span> and the <span id="noun2c"></span> then decided to settle their differences and break bread together.
</div>

<br/>
<hr/>
<h1>Make your own!</h1>

<table>
<tr><td>Noun1:</td><td><Input id=noun1input onchange="UpdateFields()"/></td></tr>
<tr><td>Noun2:</td><td><Input id=noun2input onchange="UpdateFields()"/></td></tr>
<tr><td>Opinion:</td><td><Input id=opinion1input onchange="UpdateFields()"/></td></tr>
<tr><td>Counter Opinion:</td><td><Input id=opinion2input onchange="UpdateFields()"/></td></tr>
<tr><td>Irrelevant Opinion:</td><td><Input id=opinion3input onchange="UpdateFields()"/></td></tr>
</table>

<br/>
Link to share: <span id="shareurl"></span>

</body>
</html>